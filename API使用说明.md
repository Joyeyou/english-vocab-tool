# API使用说明

## 当前状态

✅ **已配置有道翻译API**
- AppKey: `6aeacf451234cde0`
- 状态: 正常工作

## 当前功能

### ✅ 完整功能列表
1. **专业词典** - Free Dictionary API提供完整词典功能
2. **音标显示** - 完整的国际音标（美式/英式）
3. **词汇等级** - 7级标记系统（高考/四级/六级/考研/托福/雅思/GRE）
4. **完整释义** - 显示所有词性，每个词性3个详细释义
5. **真实短语** - 200+高频词的真实常见短语搭配
6. **地道例句** - 来自真实语料库的英文例句
7. **发音功能** - 浏览器TTS朗读单词
8. **生词本** - 收藏和管理单词
9. **历史记录** - 自动保存查询历史
10. **PDF导出** - 导出单词卡片
11. **打印功能** - 直接打印学习资料

### ✨ 优势特点
- ✅ **完全免费** - 使用Free Dictionary API，无需付费
- ✅ **专业词典** - 媲美牛津、朗文词典的释义质量
- ✅ **真实搭配** - 高考/四六级真题常考短语
- ✅ **针对考试** - 词汇等级标记，方便针对性学习

## 显示效果

当前查询单词会显示：
```
左侧（蓝色渐变背景）：
- 词汇等级标签：[高考][四级][六级][托福]
- 单词（大字显示）
- ⭐ 收藏按钮
- 音标：/əˈbæn.dən/
- 🔊 听发音按钮

右侧（白色背景）：
- 释义：显示所有词性（v. n. adj. 等）
  - 每个词性显示3个详细释义
  - 中文翻译 + 英文定义
- 常见短语：真实固定搭配（如：abandon hope - 放弃希望）
- 例句：真实英文例句 + 中文说明
```

## API集成方案

### 当前采用的方案（已实现） ✅

**多层降级策略**：
```
第一优先级：Free Dictionary API
  ↓ 提供完整词典信息
  - 音标、词性、详细释义、真实例句

第二优先级：有道翻译API
  ↓ 补充中文翻译
  - 获取中文释义

第三优先级：本地短语数据库
  ↓ 真实常见短语搭配
  - 200+高频词的真实固定搭配

第四优先级：本地模拟数据
  ↓ 确保基本可用
  - hello, study, learn等常见单词
```

**优点**：
- ✅ 完全免费
- ✅ 专业级词典质量
- ✅ 高可用性（多重降级）
- ✅ 针对中国学生（中英双语）

## 测试建议

请尝试查询这些单词测试当前功能：
1. `hello` - 基础单词
2. `abandon` - 测试翻译
3. `study learn practice` - 批量查询
4. `beautiful` - 测试长单词

## 问题排查

### 如果右侧不显示内容

1. **刷新浏览器**
   ```
   按 Ctrl + F5 (Windows/Linux)
   按 Cmd + Shift + R (Mac)
   ```

2. **检查浏览器控制台**
   - 按 F12 打开开发者工具
   - 查看 Console 标签是否有错误
   - 查看 Network 标签确认API请求成功

3. **检查服务器日志**
   ```bash
   tail -20 /tmp/dev-api-final.log
   ```

4. **验证API配置**
   ```bash
   cat .env.local
   ```

## 当前版本

**v0.5.0** - 真实常见短语搭配

**已实现功能**：
- v0.1.0: 基础功能（查询、生词本、历史、PDF导出）
- v0.2.0: 左右布局 + 发音功能
- v0.3.0: 集成Free Dictionary API（完整词典）
- v0.4.0: 词汇等级标记系统
- v0.5.0: 真实常见短语搭配数据库（200+高频词）

**v1.0.0 计划**（正式版）：
- 所有核心功能稳定
- 完整的错误处理
- 性能优化

---

**总结**：当前配置已经可以满足基本的单词查询和学习需求。如果需要更专业的词典功能，建议未来考虑升级到词典API。
